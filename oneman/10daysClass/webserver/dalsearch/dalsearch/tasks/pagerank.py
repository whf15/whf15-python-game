# coding=utf-8

"""Page Rank Calculator
Author: Js
Python Version: 3.6+

Changes:
--------

"""


def compute_ranks(graph):
    d = 0.8
    numloops = 10

    ranks = {}
    npages = len(graph)
    for page in graph:
        ranks[page] = 1.0 / npages

    for i in range(0, numloops):
        newranks = {}
        for page in graph:
            newrank = (1 - d) / npages
            # update by summing in the inlink ranks
            for node in graph:
                if page in graph[node]:
                    newrank = newrank + d * (ranks[node] / len(graph[node]))
            newranks[page] = newrank
        ranks = newranks
    return ranks

